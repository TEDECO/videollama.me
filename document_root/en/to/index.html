<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <title>videollama.me</title>
  <meta name="description" content="Sistema de videoconferencia basado en el software libre Jitsi simplificado para personas mayores sin conocimientos tecnológicos. Está diseñado por el grupo de investigación TEDECO de la UPM dentro del proyecto TechPeopleCare.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
  <link rel="manifest" href="/img/manifest.json">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#000000">

  <meta property="og:title" content="Videollama a los tuyos de forma fácil, libre y segura">
  <meta property="og:url" content="https://videollama.me/">
  <meta property="og:image" content="https://videollama.me/img/facebook-share2.png" /> <!-- facebook -->
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image" content="https://videollama.me/img/corazon.png" /> <!-- whatsapp y telegram -->
  <meta property="og:image:width" content="300">
  <meta property="og:image:height" content="300">
  <meta property="og:description" content="Sistema de videoconferencia basado en el software libre Jitsi simplificado para personas con dificultades en el manejo de nuevas tecnologías.">

  <meta name="twitter:card" content="summary_large_image"> <!-- twitter -->
  <meta name="twitter:site" content="@videollamame">
  <meta name="twitter:creator" content="@videollamame">
  <meta name="twitter:title" content="Videollama a los tuyos de forma fácil, libre y segura">
  <meta name="twitter:description" content="Sistema de videoconferencia basado en el software libre Jitsi simplificado para personas con dificultades en el manejo de nuevas tecnologías.">
  <meta name="twitter:image" content="https://videollama.me/img/facebook-share2.png">
  
  <link rel="stylesheet" href="../css/bulma.min.css">
  <!--<link rel="stylesheet" href="../css/normalize.css">-->
  <link rel="stylesheet" href="../css/main.css">

<style>

  p {
    padding-bottom: 10px;
  }

  ol {
    padding-left: 30px;
  }

  html, body, #video, #inicio, #ayuda {
    background-color:#000;
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    color: #eee;
  }

  #ayuda {
    background-color: #f1f7ff;
  }

  #inicio img {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: 300px;
    margin-top: -150px;
    margin-left: -150px;
    cursor: pointer;
  }

  #video, #fin, #ayuda {
    display: none;
  }

  #fin img {
    position: absolute;
    bottom: 20px;
    z-index: 999;
    left: 50%;
    width: 100px;
    height: 100px;
    margin-top: -50px;
    margin-left: -50px;
    cursor: pointer;
  }

  #ayuda {
    position: absolute;
    top: 0;
    left: 0;
    font-size: 1.4em;
    font-weight: bold;
    color: #333 !important;
    z-index: 2;
    /*background-image: url("../img/fondo-mosaico.png");
    background-size: 25px;*/
    overflow-y: auto;
  }
  #texto-ayuda a {
    display: block;
    text-align: center;
  }
  #texto-ayuda h2, #texto-ayuda h1, #texto-ayuda p {
    color: #333 !important;
    text-align: center;
  }
  #paso1, #paso2, #paso3 {
    display: none;
  }
  #iconos img {
    max-width: 150px;
  }
</style>

</head>

<body>

  <div id="inicio">
    <img src="../img/dedito.gif" width="300" height="300">
  </div>

  <div id="ayuda">

  <section class="section">
    <div class="container">
      <p class="title">
        <strong>Sigue estos pasos para terminar de facilitar la videollamada a la persona mayor</strong>  
      </p>
      <p class="subtitle">
        El objetivo es que sea capaz de conectarse por videollamada simplemente pulsando 4 botones:
      </p>
<div id="iconos" class="columns">
<div class="column">
<div class="columns is-mobile" style="text-align:center;font-weight:bold;">
  <div class="column"><img src="../img/corazon.png" width="100%"><br>El icono del corazón para acceder a la aplicación</div>
  <div class="column"><img src="../img/llamada.png" width="100%"><br>El botón verde para iniciar la llamada</div>
</div>
</div>
<div class="column">
<div class="columns is-mobile" style="text-align:center;font-weight:bold;">
  <div class="column"><img src="../img/colgar.png" width="100%"><br>El botón rojo para colgar la llamada</div>
  <div class="column"><img src="../img/ayuda/circulo.jpg" width="100%"><br>El "círculo" de la barra de estado para volver a empezar</div>
</div>
</div>
</div>
    </div>
  </section>

<section class="hero is-medium is-primary is-bold">
  <div class="hero-body">
	<div id="texto-ayuda" class="container">

<h1 class="title">Lo mínimo</h1>

<h2 class="subtitle">1º Crear un icono en la pantalla de inicio, eliminar el resto y dejarlo centrado en la pantalla</h2>
<a href="#paso2" class="desplegar">¿Cómo lo hago?</a>
<div id="paso2"><div class="columns">
  <div class="column"><img src="../img/ayuda/paso1-1.jpg" width="100%"></div>
  <div class="column"><img src="../img/ayuda/paso2-2.jpg" width="100%"></div>
  <div class="column"><img src="../img/ayuda/paso2-3.jpg" width="100%"></div>
</div></div>

<h2 class="subtitle">2º Abrir la aplicación por primera vez para permitir el uso de la cámara y el micrófono</h2>
<a href="#paso3" class="desplegar">¿Cómo lo hago?</a>
<div id="paso3"><div class="columns">
  <div class="column"><img src="../img/ayuda/paso3-1.jpg" width="100%"></div>
  <div class="column"><img src="../img/ayuda/paso3-2.jpg" width="100%"></div>
  <div class="column"><img src="../img/ayuda/paso3-3.jpg" width="100%"></div>
</div></div>

<h1 class="title" style="margin-top:50px;">Otras recomendaciones</h1>

<h2 class="subtitle">Desactivar las notificaciones de todas las aplicaciones</h2>

<h2 class="subtitle">Desactivar el bloqueo de pantalla</h2>

<h2 class="subtitle">Desactivar el PIN en opciones de seguridad</h2>

<h2 class="subtitle">Establecer el ahorro de energía a 10 minutos o más</h2>

<div class="control" style="margin-top:50px;">
  <button class="button is-large is-link is-rounded is-fullwidth" id="continuar">Continuar</button>
</div>

	</div>
  </div>
</section>

  </div><!-- ayuda -->

  <div id="video"></div>

  <div id="fin">
    <img src="../img/colgar.png" width="100" height="100">
  </div>

  <script src="../js/vendor/modernizr-3.8.0.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="../js/vendor/jquery-3.4.1.min.js"><\/script>')</script>


<script src='https://meet.jit.si/external_api.js'></script>
<script>
$(function() {
  // Opciones de configuración de jitsi
  const servidorjitsi = 'meet.jit.si';
  const opciones = {
    roomName: dameSala(),
    width: '100%',
    height: '100%',
    configOverwrite: {
        defaultLanguage: 'es',
        disableThirdPartyRequests: true,
        disableDeepLinking: true
    },
    interfaceConfigOverwrite: {
        DEFAULT_BACKGROUND: '#612d620',
        TOOLBAR_ALWAYS_VISIBLE: true,
        TOOLBAR_BUTTONS: [],
        SHOW_JITSI_WATERMARK: false,
        SHOW_WATERMARK_FOR_GUESTS: false,
        SHOW_POWERED_BY: true,
        AUTHENTICATION_ENABLE: false,
        SETTINGS_SECTIONS: [],
        DEFAULT_REMOTE_DISPLAY_NAME: 'Familiar',
        DEFAULT_LOCAL_DISPLAY_NAME: '',
        OPTIMAL_BROWSER: [ 'chrome', 'chromium', 'firefox', 'nwjs', 'electron' ],
    },
    //onload: openFullscreen(),
    parentNode: document.getElementById('video')
  };
  const opciones_experto = {
    roomName: dameSala(),
    width: '100%',
    height: '100%',
    configOverwrite: {
        defaultLanguage: 'es',
        disableThirdPartyRequests: true,
        disableDeepLinking: true
    },
    interfaceConfigOverwrite: {
        DEFAULT_BACKGROUND: '#612d620',
        TOOLBAR_ALWAYS_VISIBLE: true,
        SHOW_JITSI_WATERMARK: false,
        SHOW_WATERMARK_FOR_GUESTS: false,
        SHOW_POWERED_BY: true,
        AUTHENTICATION_ENABLE: false,
        DEFAULT_REMOTE_DISPLAY_NAME: 'Familiar',
        DEFAULT_LOCAL_DISPLAY_NAME: '',
    },
    //onload: openFullscreen(),
    parentNode: document.getElementById('video')
  };

  // Funciones auxiliares
  function dameSala() {
    var sala = window.location.href.split('?tf=');
    (sala.length == 2)?sala=sala[1]:sala='TEDECO';
    return sala.split('&')['0'];
  }

  function esModoExperto() {
     return (window.location.href.split('&experto').length == 2);
  }

  function hasVisitadoSala() {
    var galletas = document.cookie.split(';');
    var sala = dameSala();
    if (document.cookie.indexOf('salas=') < 0) document.cookie = "salas="+encodeURIComponent(sala)+"; path=/";
    for(var i=0;i < galletas.length;i++) {
      var galleta = galletas[i].split('=');
      if ((galleta.length == 2) && (galleta[0] == "salas")) {
        galleta = decodeURIComponent(galleta[1]);
        console.log("Has visitado estas salas previamente: "+galleta);
        if (galleta.indexOf(sala) > -1) {
          return true;
        } else {
          document.cookie = "salas="+encodeURIComponent(galleta + "," + sala)+"; expires=2147483647; path=/";
        }
      }
    }
    return false;
  }


  function aPantallaCompleta() {
    if (!document.fullscreenElement &&    // alternative standard method
        !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement ) {  // current working methods
      if (document.documentElement.requestFullscreen) {
        document.documentElement.requestFullscreen();
      } else if (document.documentElement.msRequestFullscreen) {
        document.documentElement.msRequestFullscreen();
      } else if (document.documentElement.mozRequestFullScreen) {
        document.documentElement.mozRequestFullScreen();
      } else if (document.documentElement.webkitRequestFullscreen) {
        document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
      }
    }
  }

  function iniciarJitsi() {
    if (esModoExperto()) {
      var api = new JitsiMeetExternalAPI(servidorjitsi, opciones_experto);
    } else {
      var api = new JitsiMeetExternalAPI(servidorjitsi, opciones);
      $('#fin').fadeIn();
      $('#fin img').on('click', function(e) {
        e.preventDefault();
        api.executeCommand('hangup');
      });
    }
    //api.executeCommand('toggleTileView');
    //api.executeCommand('toggleFilmStrip');
    api.executeCommand('displayName', '');
    api.executeCommand('avatarUrl', 'https://videollama.me/img/corazon.png');
    api.on('readyToClose', function(){ location.reload() });
  }

  // MAIN
  if (!hasVisitadoSala() && !esModoExperto()) $('#ayuda').fadeIn();
  $('.desplegar').on('click', function(e) {
    e.preventDefault();
    var objetivo = $(this).attr('href');
    if ($(objetivo).css('display') !== 'none') {
      $(objetivo).slideUp();
    } else {
      $(objetivo).slideDown();
    }
  });
  $('#continuar').on('click', function(e) {
    $('#ayuda').fadeOut();
  });
  $('#inicio img').on('click', function(e) {
    aPantallaCompleta();
    if ($('#video').is(':hidden')) {
       $('#inicio').fadeOut();
       $('#video').fadeIn();
       iniciarJitsi();
    }
  });
});

</script>

</body>

</html>
